<script>

    function registerService() {
        navigator.serviceWorker.register('/myworker.js').then(function(registration) {
            // Registration was successful
            console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }, function(err) {
            // registration failed :(
            console.log('ServiceWorker registration failed: ', err);
        });
    }

    function init() {
        console.log('init service worker');
        if ('serviceWorker' in navigator) {
            console.log('service worker is available. start to register..');
            this.registerService();
        } else {
            console.log('service worker is not supported in this browser..');
        }
    }

    function getHello(){
        fetch("/users").then(response => {
            console.log("Response:", response);
        }).catch(err => {
            console.error("Error while fetching:", err);
        });
    }


</script>

<p>Test on <%= title %></p>
<button onclick="init()">Init service worker</button>
<br />
<button onclick="getHello()">Get Hello From worker</button>

